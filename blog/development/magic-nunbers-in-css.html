<!DOCTYPE html> <html lang="en-GB"> <head> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Magic Numbers in CSS | codeAdrian</title> <meta name="description" content="Magic numbers can be seen as very benign on smaller projects, examples and individual cases, but they can really make our jobs difficult when adding new features, fixing issues and maintaining the website. Soon you'll find yourself adding magic numbers to fix issues caused by other magic numbers, but also potentially causing new issues down the line."> <meta itemprop="name" content="Magic Numbers in CSS | codeAdrian"> <meta itemprop="description" content="Magic numbers can be seen as very benign on smaller projects, examples and individual cases, but they can really make our jobs difficult when adding new features, fixing issues and maintaining the website. Soon you'll find yourself adding magic numbers to fix issues caused by other magic numbers, but also potentially causing new issues down the line."> <meta itemprop="image" content="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:best/v1547309683/articles/number.jpg"> <meta property="og:url" content="https://codeadrian.github.io/blog/development/magic-nunbers-in-css.html"> <meta property="og:type" content="website"> <meta property="og:title" content="Magic Numbers in CSS | codeAdrian"> <meta property="og:description" content="Magic numbers can be seen as very benign on smaller projects, examples and individual cases, but they can really make our jobs difficult when adding new features, fixing issues and maintaining the website. Soon you'll find yourself adding magic numbers to fix issues caused by other magic numbers, but also potentially causing new issues down the line."> <meta property="og:image" content="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:best/v1547309683/articles/number.jpg"> <meta name="twitter:card" content="summary_large_image"> <meta name="twitter:title" content="Magic Numbers in CSS | codeAdrian"> <meta name="twitter:description" content="Magic numbers can be seen as very benign on smaller projects, examples and individual cases, but they can really make our jobs difficult when adding new features, fixing issues and maintaining the website. Soon you'll find yourself adding magic numbers to fix issues caused by other magic numbers, but also potentially causing new issues down the line."> <meta name="twitter:image" content="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:best/v1547309683/articles/number.jpg"> <meta name="theme-color" content="#151515"/> <link rel="preconnect" href="https://res.cloudinary.com"> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="manifest" href="/manifest.json"> <script src="/assets/scripts/glide.js"></script> <script src="/assets/scripts/lazyload.js"></script> <meta name="theme-color" content="#242e2b"/> <link rel="stylesheet" href="/assets/styles.css"/> <link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700|Oswald" rel="stylesheet"> <link rel="apple-touch-icon" sizes="180x180" href="/assets/favicons/apple-touch-icon.png"/> <link rel="icon" type="image/png" sizes="32x32" href="/assets/favicons/favicon-32x32.png"/> <link rel="icon" type="image/png" sizes="16x16" href="/assets/favicons/favicon-16x16.png"/> <link rel="manifest" href="/assets/favicons/site.webmanifest"/> <link rel="mask-icon" href="/assets/favicons/safari-pinned-tab.svg" color="#c16014"/> <meta name="msapplication-TileColor" content="#c16014"/> <meta name="theme-color" content="#c16014"/> </head> <body class="pageContent"> <header class="header header--center header--default"> <div class="header__wrapper"> <a class="site-link logo" href="/"> <picture> <source srcset="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:low/v1547983560/codeAdrian/codeAdrian.svg"/> <img class="logo__image" src="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:low/v1547983560/codeAdrian/codeAdrian.svg" alt="Adrian Bece"/> </picture> </a> <nav class="navigation"> <ul class="navigation__list navigation__list--default"> <li class="navigation__item navigation__item--default "> <a class="navigation__link navigation__link--default" href="/">Home</a> </li> <li class="navigation__item navigation__item--default "> <a class="navigation__link navigation__link--default" href="/portfolio/">Portfolio</a> </li> <li class="navigation__item navigation__item--default navigation__item--current"> <a class="navigation__link navigation__link--default" href="/blog/">Blog</a> </li> <li class="navigation__item navigation__item--default "> <a class="navigation__link navigation__link--default" href="/skills/">Skills</a> </li> <li class="navigation__item navigation__item--default "> <a class="navigation__link navigation__link--default" href="/contact/">Contact</a> </li> </ul> </nav> <div> <a class="button button--cta header__button" href="/contact/"> Contact me </a> </div> </div> </header> <main class="post"> <section class="post__wrapper"> <article class="hero post__hero"> <div class="post__heading "> <div class="blog__date"> <time datetime="2019-01-27T00:00:00+00:00" class="time">27 January 2019</time> </div> <h1 class="post__title">Magic Numbers in CSS</h1> </div> <div class="post__imageContainer"> <img class="post__image" src="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:low/v1546683551/devstar/placeholder.png" data-src="https://res.cloudinary.com/dazdt97d3/image/upload/q_auto:low/v1547309683/articles/number.svg" alt="Magic Numbers in CSS Featured Image"/> </div> </article> <article class="block block--text"> <p>We've all seen magic numbers in code, didn't we? The magical <code class="code--inline">padding-top: 2px;</code> and <code class="code--inline">top: 136px;</code> - like randomly-spread pieces of bubblegum holding the house of cards together. Code should be easily read, self-explanitory and have a logical structure.</p> <p>Magic numbers can be seen as very benign on smaller projects, examples and individual cases, but they can really make our jobs difficult when adding new features, fixing issues and maintaining the website. Soon you'll find yourself adding magic numbers to fix issues caused by other magic numbers, but also potentially causing new issues down the line.</p> <h2 class="heading">Solution starts with the design</h2> <p> When a project has a design phase which results with a design file with style guide, component, modules, pages, etc. we usually have all the information about color, typography, horizontal grids, and media query variables, but those are just a few of many variables that can repeat throughout the website. What about horizontal and vertical spacing (<a target="_blank" rel="noreferrer nofollow" href="/blog/development/mastering-css-vertical-rhythm.html">vertical rhythm</a>), or borders, or shadows, container widths, image aspect ratios, z-indices, etc. </p> <p class="padding--clear">The more variables are defined in the design phase and the more design is constrained within those variables, the less we rely on magic numbers since we can see the connection between all design elements. For example, Defining a rhythm unit can add a better context of vertical spacing. Now if we see that header is at <code class="code--inline">96px</code> height, and if we know that our base line height is <code class="code--inline">32px</code>, we can see that all elements in header container follow the <a target="_blank" rel="noreferrer nofollow" href="/blog/development/mastering-css-vertical-rhythm.html">rules of vertical rhythm</a>. This allows us to establish a better connection between a style guide variable (rhythm unit) and a complex module (header).</p> </article> <article class="block block--text"> <h2 class="heading">Discipline makes strong developers</h2> <p> For better or worse, nothing stops us from using Magic numbers in CSS. The code will work the same if we write a value or a variable that contains the value. No linter or preprocessor will throw an error. It's up to a developer to learn the best practices, go beyond the call of duty and make quality long-term decisions. When starting a new project, outlining and defining CSS variables is very important. Quality, readability and maintainability of your code will depend on how well you define those variables: giving them a meaningful name, grouping the variables properly, defining a clear dependency between the variables, etc. </p> <p class="padding--clear">Let's demonstrate this with the following code. Please note that, in this example, I'm using PostCSS and modern CSS syntax. But this philosophy also applies to CSS Preprocessors like SASS and LESS.</p> </article> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">:root</span> <span class="p">{</span>
    <span class="c">/* px definitions for easier calculations */</span>
    <span class="c">/* These variables are only used for calculation */</span>
    <span class="py">--typography__fontSize--px</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>
    <span class="py">--typography__lineHeight--px</span><span class="p">:</span> <span class="m">27px</span><span class="p">;</span>

    <span class="py">--browser__fontSize--default</span><span class="p">:</span> <span class="m">16px</span><span class="p">;</span>

    <span class="c">/* Basic typography setup, establishing rhythm unit */</span>
    <span class="c">/* These variables should be assigned to the CSS attributes */</span>
    <span class="py">--typography__fontSize</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span>
        <span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--typography__fontSize--px</span><span class="p">)</span> <span class="p">/</span> <span class="n">var</span><span class="p">(</span><span class="n">--browser__fontSize--default</span><span class="p">))</span> <span class="err">*</span> <span class="m">1rem</span>
    <span class="p">);</span>
    <span class="py">--typography__lineHeight</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span>
        <span class="p">(</span><span class="n">var</span><span class="p">(</span><span class="n">--typography__lineHeight--px</span><span class="p">)</span> <span class="p">/</span> <span class="n">var</span><span class="p">(</span><span class="n">--typography__fontSize--px</span><span class="p">))</span> <span class="err">*</span> <span class="m">1rem</span>
    <span class="p">);</span>

    <span class="c">/* Calculating vertical rhythm variables */</span>
    <span class="c">/* Can be located in separate file if using Preprocessors or PostCSS import */</span>
    <span class="py">--spacing__vertical--1</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--typography__lineHeight</span><span class="p">);</span>
    <span class="py">--spacing__vertical--2</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">2</span> <span class="err">*</span> <span class="n">var</span><span class="p">(</span><span class="n">--spacing__vertical--1</span><span class="p">));</span>
    <span class="py">--spacing__vertical--3</span><span class="p">:</span> <span class="n">calc</span><span class="p">(</span><span class="m">3</span> <span class="err">*</span> <span class="n">var</span><span class="p">(</span><span class="n">--spacing__vertical--1</span><span class="p">));</span>

    <span class="c">/* Defining custom variables for modules */</span>
    <span class="c">/* Can be located in separate file if using Preprocessors or PostCSS import */</span>
    <span class="py">--header__height</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--spacing__vertical--3</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <article class="block block--text"> <p>Notice how we used only two numbers and how the rest of the variables are linked to those two numbers. I've used my way of naming the variables, with the BEM-like structure <code class="code--inline">group__attributeName--variation</code>. The connection between the variables is clear: base rhythm unit is equal to the base line height which <code class="code--inline">rem</code> value is calculated using <code class="code--inline">px</code> values of font size and line height. Similarly, header has a fixed height which equals rhythm unit multiplier of 3, whih is calculated along with the rest rhythm unit multipliers (vertical spacings).</p> <p>With variables being organized this way, we can easily add more complexity to our code and avoid repeating values or variables, and avoid using magic numbers alltogether. But...</p> <h2 class="heading">Sometimes, using Magic Numbers is unavoidable</h2> <p>Due to the hacky nature of CSS and varying browser support, sometimes the only solution is to use Magic Numbers. Even in that case, Magic number should be saved and documented in a variable in the same file it's used. Magic number that apply to a single element should not be defined along the global variables. That way, any developer will understand the scope and role of the variable and may want to remove it in the future, if needed.</p> </article> <div class="language-css highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">/* element.css */</span>

<span class="nd">:root</span> <span class="p">{</span>
    <span class="c">/* Browser-specific bug, expected to be fixed in the future */</span>
    <span class="py">--element__spacing--magic</span><span class="p">:</span> <span class="m">-1px</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.element</span> <span class="p">{</span>
    <span class="nl">margin-top</span><span class="p">:</span> <span class="n">var</span><span class="p">(</span><span class="n">--element__spacing--magic</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div> <article class="block block--text post__metaWrapper"><aside class="blog__metaWrapper"> <div class="blog__meta blog__meta--author"> Author: <a class="blog__authorLink" target="_blank" rel="noreferrer nofollow" href="https://twitter.com/AdrianBDesigns" title="Adrian Bece">Adrian Bece</a> </div> <div class="blog__meta blog__meta--tags tags"> <a class="blog__tag tags__item tags__item--default" href="/tag/development"> <small> development </small></a> <a class="blog__tag tags__item tags__item--default" href="/tag/css"> <small> CSS </small></a> </div> </aside> </article> <nav class="block block--text share"> <a href="https://twitter.com/intent/tweet/?url=https://codeadrian.github.io/blog/development/magic-nunbers-in-css.html&text=Magic%20Numbers%20in%20CSS &via=AdrianBDesigns&hashtags= development , CSS " class="share__link" target="_blank" rel="nofollow norefferer"><span class="icon icon__social--twitter"></span> <span class="visuallyHidden">twitter</span> </a> <a href="https://facebook.com/sharer/sharer.php?u=https://codeadrian.github.io/blog/development/magic-nunbers-in-css.html" class="share__link" target="_blank" rel="nofollow norefferer"><span class="icon icon__social--facebook"></span> <span class="visuallyHidden">facebook</span> </a> <a href="https://www.linkedin.com/shareArticle?url=https://codeadrian.github.io/blog/development/magic-nunbers-in-css.html&title=Magic Numbers in CSS&source=codeAdrian&mini=true" class="share__link" target="_blank" rel="nofollow norefferer"><span class="icon icon__social--linkedin"></span> <span class="visuallyHidden">linkedin</span> </a> <a href="mailto:?subject=Magic Numbers in CSS&body=Magic Numbers in CSS: https://codeadrian.github.io/blog/development/magic-nunbers-in-css.html" class="share__link" target="_blank" rel="nofollow norefferer"><span class="icon icon__social--email"></span> <span class="visuallyHidden">email</span> </a> </nav> </article> </main> <footer class="footer"> <div class="footer__main container--alt"> <div class="footer__inner"> <div class="footer__col"> <input class="visuallyHidden footer__control" class="visuallyHidden" type="checkbox" id="cbx-footer-about"/> <label class="footer__label" for="cbx-footer-about"> <h3 class="footer__title">About</h3> </label> <ul class="footer__list"> <li class="footer__item"> <a class="footer__link" href="/portfolio/">Portfolio</a> </li> <li class="footer__item"> <a class="footer__link" href="/blog/">Blog</a> </li> <li class="footer__item"> <a class="footer__link" href="/skills/">Skills</a> </li> <li class="footer__item"> <a class="footer__link" href="/contact/">Contact me</a> </li> </ul> </div> <div class="footer__col"> <input class="visuallyHidden footer__control" class="visuallyHidden" type="checkbox" id="cbx-footer-blog"/> <label class="footer__label" for="cbx-footer-blog"> <h3 class="footer__title">Blog Categories</h3> </label> <ul class="footer__list"> <li class="footer__item"> <a class="footer__link footer__link--tag" href="/tag/development">development</a> </li> <li class="footer__item"> <a class="footer__link footer__link--tag" href="/tag/css">CSS</a> </li> <li class="footer__item"> <a class="footer__link footer__link--tag" href="/tag/accessibility">accessibility</a> </li> </ul> </div> <div class="footer__col footer__col--last"> <input class="visuallyHidden footer__control" class="visuallyHidden" type="checkbox" id="cbx-footer-social"/> <label class="footer__label" for="cbx-footer-social"> <h3 class="footer__title">Social</h3> </label> <ul class="footer__list"> <li class="footer__item"> <a target="blank" rel="nofollow noreferrer" class="footer__link" href="https://twitter.com/AdrianBDesigns"> <span class="icon icon__social--twitter"></span> Twitter</a> </li> <li class="footer__item"> <a target="blank" rel="nofollow noreferrer" class="footer__link" href="https://github.com/codeAdrian"> <span class="icon icon__social--github"></span> GitHub </a> </li> <li class="footer__item"> <a target="blank" rel="nofollow noreferrer" class="footer__link" href="https://www.linkedin.com/in/adrianbece/"> <span class="icon icon__social--linkedin"></span> LinkedIn</a> </li> <li class="footer__item"> <a class="footer__link" href="mailto:adrianbece@live.com"> <span class="icon icon__social--email"></span> Email</a> </li> </ul> </div> </div> </div> <div class="footer__copyright">2019 © codeAdrian. All rights reserved.</div> </footer> <script type="text/javascript">navigator.serviceWorker&&navigator.serviceWorker.register("/sw.js").then(function(){console.log("Service Worker: registered")})["catch"](function(e){console.log("Service Worker: registration failed ",e)});</script> <script>var globalLazyLoad=new LazyLoad,videoLazyLoad=new LazyLoad({elements_selector:".video__content"});</script> </body> </html>